
<!DOCTYPE html>
<html lang="zh_cn">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet/less" type="text/css" href="https://hansonnnn.github.io/theme/stylesheet/style.less">
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js" type="text/javascript"></script>

  <link rel="stylesheet" type="text/css" href="https://hansonnnn.github.io/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://hansonnnn.github.io/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="https://hansonnnn.github.io/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="https://hansonnnn.github.io/theme/font-awesome/css/solid.css">

    <link href="https://hansonnnn.github.io/static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="/images/fav.ico" type="image/x-icon">
    <link rel="icon" href="/images/fav.ico" type="image/x-icon">


    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#333333">

<meta name="author" content="Zhao Han" />
<meta name="description" content="一、VoltDB 简介 VoltDB 是一种内存数据库，作为常见的内存数据库( K-V 存储)，但也可以只将这种k-v形式存储的内存数据库称为内存缓存（cache），其不是通常sql操作数据库因此也称类似的数据存储为 NoSQL，但作为新型的内存数据库NewSQL，不同于 NoSQL 数据库，它还是立足于常用的关系型数据库数据存储方式，并且支持 sql，支持事务。 作为新兴的一种内存数据库技术，VoltDB 可以说是完美，尤其是对于数据量大，单笔数据小的使用场景，voltDB 占尽了优势，采用内存存储，是为了提高传统关系型数据库速度的瓶颈，shard-nothing 结构让它可以做到集群部署的高可用，弹性存储。最关键的是其很好的继承了传统数据库的sql以及事务特性，这对于其使用者可以很好的从传统关系型数据库切换到voltDB来。下面将具体介绍 VoltDB 的特性以及使用。 1.1 事务 VoltDB 的事务沿用了传统关系型数据库的特性，并且在传统型数据库事务之上做出了很多优化以及改进。 VoltDB 是如何确保其事务特性？（ACID） 原子性：对于一次事务的执行，在 VoltDB …" />
<meta name="keywords" content="">

<meta property="og:site_name" content="Hansonnnn"/>
<meta property="og:title" content="VoltDB 简介"/>
<meta property="og:description" content="一、VoltDB 简介 VoltDB 是一种内存数据库，作为常见的内存数据库( K-V 存储)，但也可以只将这种k-v形式存储的内存数据库称为内存缓存（cache），其不是通常sql操作数据库因此也称类似的数据存储为 NoSQL，但作为新型的内存数据库NewSQL，不同于 NoSQL 数据库，它还是立足于常用的关系型数据库数据存储方式，并且支持 sql，支持事务。 作为新兴的一种内存数据库技术，VoltDB 可以说是完美，尤其是对于数据量大，单笔数据小的使用场景，voltDB 占尽了优势，采用内存存储，是为了提高传统关系型数据库速度的瓶颈，shard-nothing 结构让它可以做到集群部署的高可用，弹性存储。最关键的是其很好的继承了传统数据库的sql以及事务特性，这对于其使用者可以很好的从传统关系型数据库切换到voltDB来。下面将具体介绍 VoltDB 的特性以及使用。 1.1 事务 VoltDB 的事务沿用了传统关系型数据库的特性，并且在传统型数据库事务之上做出了很多优化以及改进。 VoltDB 是如何确保其事务特性？（ACID） 原子性：对于一次事务的执行，在 VoltDB …"/>
<meta property="og:locale" content="zh_CN"/>
<meta property="og:url" content="https://hansonnnn.github.io/articles/voltdb-introduction.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2016-10-11 12:00:00+08:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://hansonnnn.github.io/author/zhao-han.html">
<meta property="article:section" content="VoltDB"/>
<meta property="og:image" content="/images/head.jpg">

  <title>Hansonnnn &ndash; VoltDB 简介</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://hansonnnn.github.io">
        <img src="/images/head.jpg" alt="" title="">
      </a>
      <h1><a href="https://hansonnnn.github.io"></a></h1>

<p>test</p>
      <nav>
        <ul class="list">
          <li><a href="https://hansonnnn.github.io/pages/about-me.html#about-me">About Me</a></li>

        </ul>
      </nav>

      <ul class="social">
          <li>
            <a  class="sc-github" href="https://github.com/Hansonnnn" target="_blank">
            <i class="fab fa-github">
            </i>
          </a></li>
          <li>
            <a  class="sc-mail" href="hanz.yw1024@gmail.com" target="_blank">
            <i class="fab fa-mail">
            </i>
          </a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://hansonnnn.github.io">    Home
</a>

      <a href="/archives.html">Archives</a>
      <a href="/categories.html">Categories</a>
      <a href="/tags.html">Tags</a>


    </nav>

<article class="single">
  <header>
      
    <h1 id="voltdb-introduction">VoltDB 简介</h1>
    <p>
          Posted on 2016-10-11(星期二) 12:00 in <a href="https://hansonnnn.github.io/category/voltdb.html">VoltDB</a>


    </p>
  </header>


  <div>
    <h3>一、VoltDB 简介</h3>
<p><code>VoltDB</code> 是一种内存数据库，作为常见的内存数据库( K-V 存储)，但也可以只将这种k-v形式存储的内存数据库称为内存缓存（cache），其不是通常sql操作数据库因此也称类似的数据存储为 <code>NoSQL</code>，但作为新型的内存数据库NewSQL，不同于 <code>NoSQL</code> 数据库，它还是立足于常用的关系型数据库数据存储方式，并且支持 sql，支持事务。</p>
<p>作为新兴的一种内存数据库技术，<code>VoltDB</code> 可以说是完美，尤其是对于数据量大，单笔数据小的使用场景，<code>voltDB</code> 占尽了优势，采用内存存储，是为了提高传统关系型数据库速度的瓶颈，<code>shard-nothing</code> 结构让它可以做到集群部署的高可用，弹性存储。最关键的是其很好的继承了传统数据库的sql以及事务特性，这对于其使用者可以很好的从传统关系型数据库切换到voltDB来。下面将具体介绍 <code>VoltDB</code> 的特性以及使用。</p>
<h4>1.1 事务</h4>
<p><code>VoltDB</code> 的事务沿用了传统关系型数据库的特性，并且在传统型数据库事务之上做出了很多优化以及改进。</p>
<p><code>VoltDB</code> 是如何确保其事务特性？（ACID）</p>
<ul>
<li>原子性：对于一次事务的执行，在 <code>VoltDB</code> 中 提供了存储过程来封装，以此来保证原子性。</li>
<li>一致性：<code>VoltDB</code> 消除了数据库的锁，插销和资源管理的开销，使用并行的单线程方式确    </li>
<li>隔离性：<code>VoltDB</code> 实现了事务的最高隔离级别，可串行化读。</li>
<li>持久性：<code>VoltDB</code> 目前存在的两个版本，社区版与企业版，对于企业版支持周期性的数据库的snapshot，而社区版的持久化方案，会在后面的章节中详细介绍。</li>
</ul>
<h4>1.2 SQL结构语言</h4>
<p><code>VoltDB</code> 最大的优点之一，它很好的支持了 SQL，按 SQL99 标准来书写 SQL 。它包含了 DDL ，DML 以及 SQL 函数。DDL 支持创建 <code>TABLE</code>，<code>VIEW</code>，<code>INDEX</code> 等常用的 DDL，另外还有 <code>PROCEDURE</code>，<code>STREAM</code> 等<code>VoltDB</code>特有的 DDL,<code>VoltDB</code>支持的 DML 语言包含了以下介绍的几种，<code>DELETE</code>，<code>INSERT</code>，<code>SELECT</code>，<code>UPDATE</code>以及<code>UPSERT</code>。<code>UPSERT</code>可以理解为一种复合操作。需要特殊说明的是，在<code>VoltDB</code>中<code>DELETE</code>，<code>UPDATE</code>是不允许出现子查询的，只有<code>SELECT</code>与<code>INSERT</code>操作可以支持子查询，其中<code>INSERT</code>也只支持简单的子查询。</p>
<p><img alt="image" src="../images/voltdb/voltdb1.png"></p>
<p><img alt="image" src="../images/voltdb/voltdb2.png"></p>
<p>下面来强调说明 <code>VIEW</code> 以及 <code>STREAM</code> ，<code>VIEW</code> 在传统关系型数据库当中是为了减少 sql 重复使用等用途，同样在 <code>VoltDB</code> 中使用视图（物化视图）可以在某一程度上很大的提升查询速度，但是在创建 <code>VIEW</code> 时必须含有聚集函数。<code>STREAM</code> 在企业版的使用中（ <code>STREAM</code> 暂不支持社区版）是用来从 <code>VoltDB</code> 中 <code>Export</code> 数据到其他目的地，比如 file，kafka，elasticsearch，rabbitMQ，jdbc 等。</p>
<h4>1.3 分区</h4>
<p><code>VoltDB</code> 分区特性可以说是其提高检索速度的一大关键因素，尤其在做几张大表的联表查询的时候，效率尤为显著。<code>VoltDB</code> 的分区计划是将行平均分发到各个节点分区。用户通过指定被分区的表的列(分区键)，作为内部Hash函数的输入参数，进行 <code>Hash</code> 策略分区。在整个集群中，所有的节点对等，数据平均分发。</p>
<p><img alt="image" src="../images/voltdb/voltdb3.png"></p>
<p>上述图中三张表，每张表都做了 <code>Partition</code> 然后平均分发到集群下的三个节点上。当然也可以做到单个节点分成多个区来存储。
<code>VoltDB</code> 另外还提供了一种 <code>Replication</code> 存储，这种方式可以说是小表的一种特有，在默认情况下，<code>VoltDB</code> 对所创建的表都是做了 <code>Repliaction</code> 操作，即为每个节点复制一张同样的表结构以及表数据。</p>
<p>另外，分区特性的最佳实现必须基于分区键的选取以及设计。其他因素涉及到集群的参数以及硬件设备。</p>
<h4>1.4 存储过程</h4>
<p><code>VoltDB</code> 所有的事务都是由 java 实现的预编译存储过程实现的，且所有的存储过程在任意站点上都是序列化执行的，这样使 <code>VoltDB</code> 达到了最高的隔离级别，且消除了锁的使用，很好地提高了处理速度。<code>VoltDB</code> 提供了两种接口,<code>http JSON</code> 以及 <code>JDBC</code>，使用任意接口都可以实现客户端调用已经部署好的存储过程。</p>
<p><img alt="image" src="../images/voltdb/voltdb4.png"></p>
<h4>1.5 处理速度以及高可用集群</h4>
<p><code>VoltDB</code> 与传统关系型数据库最大的一点差距在于它的速度，尤其在事务处理量(秒级)以及联表查询。另外其企业版的支持的高可用也是相当棒，在出现范围内的节点宕机，集群可以保证正常工作并且保证数据不丢失。而设置与这些特性有关的参数 siteperhost 与 ksafty 也同样非常关键，详细的将会在下面章节中具体介绍。</p>
<h3>二、参考文档</h3>
<ol>
<li>https://docs.voltdb.com/UsingVoltDB</li>
</ol>
  </div>
  <div class="tag-cloud">
    <p>
    </p>
  </div>





</article>

    <footer>
<p>&copy;  2019</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>




<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Hansonnnn ",
  "url" : "https://hansonnnn.github.io",
  "image": "/images/head.jpg",
  "description": ""
}
</script>

</body>
</html>